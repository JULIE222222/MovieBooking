<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
          rel="stylesheet">
    <title>MovieBooking</title>
    <!-- Bootstrap core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="/css/fontawesome.css">
    <link rel="stylesheet" href="/css/bookingsection.css">
    <link rel="stylesheet" href="/css/owl.css">
    <link rel="stylesheet" href="/css/animate.css">
    <link rel="stylesheet" href="/css/commonsection.css">
</head>

<body>
<div th:replace="fragments/header ::header"></div>
<div class="container">
    <div class="row">
        <div class="col-lg-12">
            <div class="game-details">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="row">
                            <div class="content">
                                <div class="row">
                                    <div class="col-md-1">
                                        <div class="booking-procedure"
                                             style="background-color: #ADD8E6; font-weight: bold;">1. <br>상영시간
                                        </div>
                                        <div class="booking-procedure">2. <br>인원/좌석</div>
                                        <div class="booking-procedure">3. <br>결제</div>
                                        <div class="booking-procedure">4. <br>결제완료</div>
                                    </div>

                                    <!-- 영화 선택 영역 -->
                                    <div class="col-md-4">
                                        <div class="selection-title">영화 선택</div>
                                        <div class="movie-list">
                                            <ul>
                                                <!-- 영화 목록 내용 -->
                                                <li th:each="movie : ${movies}">
                                                    <div style="margin-right: 10px;">
                                                        <span th:text="${movie.rating}"
                                                              style="color: #2b2b2b; font-size: 16px;"></span>
                                                        <button th:text="${movie.title}" onclick="selectMovie(this)" th:data-movie-id="${movie.movieID}" style="color: #2b2b2b; font-size: 16px;">
                                                        </button>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                    <!-- 날짜 선택 -->
                                    <div class="col-md-2">
                                        <div class="selection-title">날짜 선택</div>
                                        <div id="monthYear" class="highlight"></div>
                                        <select id="monthSelect" class="month-select"></select>
                                        <div class="reserve-date"></div>
                                    </div>

                                    <!-- 상영 시간 선택 -->
                                    <div class="col-md-5">
                                        <div class="selection-title">상영시간</div>
                                        <ul class="time-list">
                                            <li th:each="showTime : ${showTimes}"></li>
                                        </ul>
                                    </div>

                                    <!-- 영화, 날짜, 시간 선택 영역 -->
                                    <form action="/prebooking" method="post">

                                        <input type="hidden" name="hidden_poster" id="hidden_poster">
                                        <input type="hidden" name="hidden_title" id="hidden_title">
                                        <input type="hidden" name="hidden_date" id="hidden_date">
                                        <input type="hidden" name="hidden_time" id="hidden_time">
                                        <input type="hidden" id="movieID" th:value="${hidden_movieId}" />
                                        <input type="hidden" id="showTimeID" th:value="${hidden_showTimeId}" />

                                        <div class="col-lg-12">
                                            <div class="select-box">
                                                <div class="row">
                                                    <div class="col-sm-2" id="selected-movie-poster" name="poster" style="width: 200px; max-height: 150px; overflow: hidden;">
                                                        <!-- 영화 포스터를 표시할 영역 -->
                                                    </div>
                                                    <div class="col-sm-2" id="selected-movie-title" name="title" style="font-weight: bold;">
                                                        <!-- 영화 제목을 표시할 영역 -->
                                                    </div>
                                                    <div class="col-sm-2" name="date" id="selected-date">
                                                        <!-- 선택된 날짜를 표시할 영역 -->
                                                    </div>
                                                    <div class="col-sm-2" name="time" id="selected-time">
                                                        <!-- 선택된 시간을 표시할 영역 -->
                                                    </div>
                                                    <div class="col-sm-2" id="selected-seat">
                                                        <!-- 선택된 좌석을 표시할 영역 -->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- 버튼 -->
                                        <div class="col-lg-12">
                                            <div class="main-border-button">
                                                <button type="submit">좌석선택</button>
                                            </div>
                                        </div>
                                    </form>
                                </div> <!-- content의 닫힘 태그 -->
                            </div> <!-- row의 닫힘 태그 -->
                        </div> <!-- game-details의 닫힘 태그 -->
                    </div> <!-- col-lg-12의 닫힘 태그 -->
                </div> <!-- row의 닫힘 태그 -->
            </div> <!-- container의 닫힘 태그 -->

            <div th:replace="fragments/footer ::footer"></div>

            <!-- Scripts -->
            <script src="/jquery/jquery.min.js"></script>
            <script src="/js/bootstrap.min.js"></script>
            <script src="/js/isotope.min.js"></script>
            <script src="/js/owl-carousel.js"></script>
            <script src="/js/tabs.js"></script>
            <script src="/js/popup.js"></script>
            <script src="/js/custom.js"></script>
            <script src="/js/bookingselect.js"></script> <!-- JavaScript 코드 파일 -->
        </div> <!-- 전체 col-lg-12의 닫힘 태그 -->
    </div> <!-- 전체 row의 닫힘 태그 -->
</div> <!-- 전체 container의 닫힘 태그 -->
</body>
</html>
